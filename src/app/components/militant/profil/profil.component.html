<div class="container" *ngIf="mode==1">
    <div class="row justify-content-md-center">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <div class="col-md-2">
                            <a (click)="Change()" class="btn btn-light float-right">
                                <i class="bi bi-arrow-left"></i>
                            </a>
                        </div>
                        <div class="col-md-8">
                            <h4>MISE A JOUR DE  PROFIL </h4>
                        </div>
                        <div class="col-md-2"></div>
                    </div>
                </div>
                <div class="card-body" *ngIf="militant">
                    <form [formGroup]="formEdit" (ngSubmit)="onSubmit()">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label>Matricule</label>
                                            <input type="text" formControlName="matricule" class="form-control"
                                                placeholder="au moins 3 letttres " [(ngModel)]="militant.matricule">
                                            <p style="color: brown;"
                                                *ngIf="!formEdit.controls['matricule'].valid"> (Le premier
                                                caractere doit etre une lettre majuscule ) </p>
                                        </div>
                                        <div class="col-md-6">
                                            <label>Telephone</label>
                                            <input type="number" formControlName="telephone" [(ngModel)]="militant.telephone"
                                            class="form-control">
                                            <p style="color: brown;"
                                            *ngIf="!formEdit.controls['telephone'].valid"> 
                                            (Le numéro de  telephone doit contenir 8 chiffres) </p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label>Prénom</label>
                                            <input type="text" formControlName="prenom" class="form-control"
                                            placeholder="au moins 3 letttres " [(ngModel)]="militant.prenom">
                                            <p style="color: brown;" *ngIf="!formEdit.controls['prenom'].valid">
                                            (Le premier
                                            caractere doit etre une lettre majuscule ) </p>
                                        </div>
                                        <div class="col-md-6">
                                            <label>Nom</label>
                                            <input type="text" formControlName="nom" class="form-control"
                                                placeholder="au moins 3 letttres" [(ngModel)]="militant.nom">
                                            <p style="color: brown;" *ngIf="!formEdit.controls['nom'].valid"> (Le
                                                premier
                                                caractere doit etre une lettre majuscule ) </p>
                                        </div>
                                    </div>
                                    <div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label>Section</label>
                                                <select [(ngModel)]="militant.section" formControlName="section"
                                                    class="form-control" (change)="onSelectionChange()">
                                                    <option *ngFor="let option of options" [value]="option.value">{{
                                                        option.label }}</option>
                                                </select>
                                        </div>
                                        <div class="col-md-6">
                                            <label>Genre</label>
                                            <select [(ngModel)]="militant.genre" formControlName="genre"
                                                class="form-control" (change)="onSelectionGenre()">
                                                <option *ngFor="let option of optionsG" [value]="option.value">{{
                                                    option.label }}</option>
                                            </select>
                                        </div>
                                    </div>
                                    </div>
                                    <input type="hidden" formControlName="poste" class="form-control"
                                        [(ngModel)]="militant.poste">
                                    <input type="hidden" formControlName="motDePasse"
                                        class="form-control" [(ngModel)]="militant.motDePasse">
                                    <input type="hidden" formControlName="statut"
                                        class="form-control" [(ngModel)]="militant.statut">
                                </div>
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-6" *ngIf="coordinations">
                                                        <label>Coordination</label>
                                                        <select class="form-control" (change)="onGetDivByCoor()"
                                                            [(ngModel)]="coordination._links.self.href"
                                                            formControlName="coordination">
                                                            <option
                                                                *ngFor="let coordination of coordinations._embedded.coordinations"
                                                                [value]="coordination._links.self.href">{{
                                                                coordination.nom }}</option>
                                                        </select>
                                                        <p style="color: brown;"
                                                            *ngIf="!formEdit.controls['coordination'].valid"> (Champ
                                                            obligatoire * ) </p>


                                                    </div>
                                                    <div class="col-md-6" *ngIf="coordinations divisions">
                                                        <label>Division</label>
                                                        <select [(ngModel)]="division._links.self.href"
                                                            formControlName="division" class="form-control">
                                                            <option
                                                                *ngFor="let div of divisions._embedded.divisions"
                                                                [value]="div._links.self.href">{{ div.nom
                                                                }}</option>
                                                        </select>
                                                        <p style="color: brown;"
                                                            *ngIf="!formEdit.controls['division'].valid"> (Champ
                                                            obligatoire * ) </p>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <label>Comite</label>
                                                        <input type="text" formControlName="comite" [(ngModel)]="militant.comite"
                                                            class="form-control" placeholder="au moins 3 letttres ">
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label *ngIf="sub=='text'">Subdivision</label>
                                                        <input [type]="sub" formControlName="subdivision" [(ngModel)]="militant.subdivision"
                                                            class="form-control" placeholder="au moins 3 letttres ">
                                                    </div>
                                                </div>




                                            </div>
                                                
                                                
                                        </div>
                                    </div>
                                </div> <br>
                                <div class="form-group card mt-3">
                                    <button [disabled]="!formEdit.valid" type="submit"
                                        class="btn btn-secondary px-4">Enregistrer</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container " *ngIf="mode==0">
    <div class="row justify-content-md-center">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <div class="col-md-2">
                            <a routerLink="/" class="btn btn-light float-right">
                                <i class="bi bi-arrow-left"></i>
                            </a>

                        </div>
                        <div class="col-md-8">
                            <h4>PROFIL ACTUEL </h4>
                        </div>
                        <div class="col-md-2"></div>
                    </div>
                    
                </div>
                <div class="card-body" *ngIf="militant">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-4">
                                        <img src="../assets/images/logo/profil.jpg" width="300" height="275">
                                    </div>
                                    <div class="col-md-8" style="background-color: rgb(230, 228, 225);">
                                        <div><label> Matricule : {{militant.matricule}}</label></div>
                                        <div><label> Telephone : {{militant.telephone}}</label></div>
                                        <div><label> Nom : {{militant.nom}}</label></div>
                                        <div><label> Prenom: {{militant.prenom}}</label></div>
                                        <div><label> Comité : {{militant.comite}}</label></div>
                                        <div><label> Subdivision : {{militant.subdivision}}</label></div>
                                        <div><label> Division : {{militant.division.nom}}</label></div>
                                        <div><label> Coordination : {{militant.division.coordination.nom}}</label></div>
                                        <div><label> Poste : {{militant.poste}}</label></div>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group card mt-3">
                    <button (click)="ChangeR()" class="btn btn-secondary">Editer</button>
                </div>
            </div>
        </div>
    </div>
</div>